<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="./style.css"/>
	<script src="https://cdn.jsdelivr.net/npm/showdown@1.9.1/dist/showdown.min.js"></script>
</head>

<body>
	<div id="markdown-content">
    <!-- Markdown content will be inserted here -->
  </div>

  <script>
		var baseUrl = window.location.href.replace(/\/[^/]*$/, '/');
		var markdownFileURL = './README.md';

		function fetchAndRenderMarkdown(markdownFile) {
			fetch(markdownFileURL)
				.then(response => response.text())
				.then(markdownContent => {
					var converter = new showdown.Converter();
					var htmlContent = converter.makeHtml(markdownContent);
					var markdownElement = document.getElementById('markdown-content');
					markdownElement.innerHTML = htmlContent;

					// Find links to other Markdown files
					var links = markdownElement.querySelectorAll('a[href$=".md"]');
					links.forEach(link => {
						link.addEventListener('click', event => {
              event.preventDefault();
							var href = link.getAttribute('href');
							var absoluteUrl = new URL(href, baseUrl).href;
							fetchAndRenderMarkdown(absoluteUrl);
						})
					})
				})
				.catch(error => {
					console.error('Error fetching Markdown file:', error);
				});
		}

		fetchAndRenderMarkdown(markdownFileURL);
  </script>
</body>

</html>
